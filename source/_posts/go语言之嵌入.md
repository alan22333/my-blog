---
title: goè¯­è¨€ä¹‹åµŒå…¥
description: 'Go è¯­è¨€ä¸­åµŒå…¥ï¼ˆembeddingï¼‰æ‘’å¼ƒäº†ä¼ ç»Ÿé¢å‘å¯¹è±¡è¯­è¨€ä¸­â€œç±»ç»§æ‰¿â€çš„å¤æ‚æ€§ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸€ç§æ˜¾å¼ç»„åˆ'
tags: ['go']
toc: false
date: 2025-05-14 13:22:09
categories:
    - go
    - basic
---

Go è¯­è¨€ä¸­åµŒå…¥ï¼ˆembeddingï¼‰**æ˜¯ä¸€ç§è®¾è®¡å“²å­¦å’Œå·¥ç¨‹æ€ç»´çš„ä½“ç°ï¼Œå®ƒæ‘’å¼ƒäº†ä¼ ç»Ÿé¢å‘å¯¹è±¡è¯­è¨€ï¼ˆå¦‚ Java/C++ï¼‰ä¸­â€œç±»ç»§æ‰¿â€çš„å¤æ‚æ€§ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸€ç§**æ˜¾å¼ç»„åˆï¼ˆcomposition over inheritanceï¼‰çš„è®¾è®¡é£æ ¼ã€‚

---

## ğŸ§  ä¸€ã€Go çš„è®¾è®¡å“²å­¦ï¼šç»„åˆä¼˜äºç»§æ‰¿

ä¼ ç»Ÿ OOP è¯­è¨€é‡‡ç”¨ç±»çš„ç»§æ‰¿æ¥å¤ç”¨è¡Œä¸ºï¼Œä½†å®¹æ˜“å¸¦æ¥ä»¥ä¸‹é—®é¢˜ï¼š

* **ç»§æ‰¿å±‚çº§è¿‡æ·±**ï¼šå®¹æ˜“é€ æˆç»´æŠ¤å›°éš¾ï¼›
* **å¼ºè€¦åˆ**ï¼šå­ç±»ä¸çˆ¶ç±»ç´§å¯†ç»‘å®šï¼›
* **éšè—ä¾èµ–**ï¼šä¸åˆ©äºè§£è€¦å’Œæµ‹è¯•ï¼›
* **ç»§æ‰¿å†²çª**ï¼šå¤šé‡ç»§æ‰¿å¸¦æ¥çš„æ­§ä¹‰ã€‚

> Go çš„æ ¸å¿ƒå“²å­¦æ˜¯ï¼š**æ¸…æ™°çš„ç»„åˆ + æ˜¾å¼çš„æ¥å£ + é›¶éšè—é­”æ³•**ã€‚

---

## ğŸ§© äºŒã€åµŒå…¥çš„æœ¬è´¨ï¼šå­—æ®µå’Œæ–¹æ³•çš„æå‡

åµŒå…¥åªæ˜¯å°†ä¸€ä¸ªç±»å‹çš„å­—æ®µæˆ–æ–¹æ³•**æå‡åˆ°å¦ä¸€ä¸ªç»“æ„ä½“ä¸­**ï¼Œä¸åšä»»ä½•éšå¼ç»§æ‰¿ã€‚

```go
type Logger struct {}

func (l Logger) Log(msg string) {
	fmt.Println("Log:", msg)
}

type Service struct {
	Logger  // åµŒå…¥
	Name string
}
```

è¿™é‡Œï¼Œ`Service` å°±æ‹¥æœ‰äº† `Log()` æ–¹æ³•ï¼Œä½†ä½ ä¸€çœ¼èƒ½çœ‹å‡ºå®ƒæ¥è‡ª `Logger` â€”â€”è¿™å°±æ˜¯ Go æ‰€å¼ºè°ƒçš„**æ˜¾å¼ç»„åˆä½†éšå¼ä½¿ç”¨**ã€‚

---

## ğŸ” ä¸‰ã€åº•å±‚åŸç†ï¼šè¯­æ³•ç³– + æ–¹æ³•æŸ¥æ‰¾

Go çš„åµŒå…¥å®é™…ä¸Šæ˜¯**è¯­æ³•ç³–**ï¼š

```go
s := Service{}
s.Log("test")
```

ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è§£é‡Šä¸ºï¼š

```go
s.Logger.Log("test")
```

æ–¹æ³•å’Œå­—æ®µéƒ½éµå¾ª**å­—æ®µæŸ¥æ‰¾æœºåˆ¶**ï¼ŒåµŒå¥—ç»“æ„æœ€å¤šæ”¯æŒä¸€å±‚å­—æ®µæå‡ã€‚

---

## ğŸ”§ å››ã€å®é™…åº”ç”¨åœºæ™¯

### 1. **å¤ç”¨é€šç”¨å­—æ®µç»“æ„**

```go
type BaseModel struct {
	ID        int
	CreatedAt time.Time
}

type Product struct {
	BaseModel
	Name string
}
```

> æ‰€æœ‰å®ä½“éƒ½å¯ä»¥é€šè¿‡åµŒå…¥ BaseModel æ‹¥æœ‰é€šç”¨å­—æ®µï¼Œæ— éœ€é‡å¤å®šä¹‰ã€‚

---

### 2. **å…±äº«è¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰**

```go
type Logger struct {}

func (l Logger) Log(msg string) {
	fmt.Println("[LOG]:", msg)
}

type Server struct {
	Logger
	Addr string
}
```

> åµŒå…¥ä¸€ä¸ª Loggerï¼Œå¯ä»¥è®©å¤šä¸ªç»“æ„ä½“å…±äº«æ—¥å¿—åŠŸèƒ½ã€‚

---

### 3. **æ¨¡æ‹Ÿç»§æ‰¿ + æ–¹æ³•é‡å†™**

```go
type Animal struct {}

func (a Animal) Speak() string {
	return "..."
}

type Dog struct {
	Animal
}

func (d Dog) Speak() string {
	return "Woof"
}
```

> å¦‚æœ `Dog` å®šä¹‰äº†è‡ªå·±çš„ `Speak()` æ–¹æ³•ï¼Œå°±ä¼šè¦†ç›– `Animal` çš„æ–¹æ³•ã€‚

---

### 4. **æ¥å£åµŒå…¥ï¼šç»„åˆæ¥å£**

```go
type Reader interface {
	Read(p []byte) (int, error)
}

type Writer interface {
	Write(p []byte) (int, error)
}

type ReadWriter interface {
	Reader
	Writer
}
```

> å¤šä¸ªå°æ¥å£åµŒå…¥æˆå¤§æ¥å£ï¼Œç¬¦åˆ Go çš„æ¥å£æ‹†åˆ†å“²å­¦ï¼š**"å°½é‡å°çš„æ¥å£"**ã€‚

---

## ğŸ’¡ äº”ã€è®¾è®¡ä¼˜åŠ¿æ€»ç»“

| ä¼˜ç‚¹     | è¯´æ˜                 |
| ------ | ------------------ |
| ç®€æ´     | æ— éœ€å†—é•¿çš„ç»§æ‰¿ç»“æ„          |
| è§£è€¦     | ç»“æ„ä½“ä¹‹é—´ç»„åˆè€Œéä¾èµ–        |
| æ¸…æ™°     | åµŒå…¥è¡Œä¸ºæ˜¯æ˜¾å¼å¯è§çš„         |
| çµæ´»     | å¯ä»¥éšæ„ç»„åˆä¸åŒçš„åŠŸèƒ½å—       |
| ç±»å‹å®‰å…¨   | ç¼–è¯‘å™¨æ£€æŸ¥åµŒå…¥å­—æ®µå’Œæ–¹æ³•       |
| é¿å…è±å½¢ç»§æ‰¿ | å¤šé‡åµŒå…¥ä¸ä¼šæœ‰ C++ é‚£ç§å†²çªé—®é¢˜ |

---

## ğŸ¤” å¸¸è§çš„å·¥ç¨‹å®è·µåœºæ™¯

| åœºæ™¯        | ç¤ºä¾‹                       |
| --------- | ------------------------ |
| æ•°æ®åº“æ¨¡å‹åŸºç±»   | `BaseModel` æä¾› IDã€æ—¶é—´æˆ³ç­‰å­—æ®µ |
| æœåŠ¡ç»„ä»¶å°è£…    | åµŒå…¥æ—¥å¿—ã€é…ç½®ã€HTTP å®¢æˆ·ç«¯ç­‰æ¨¡å—      |
| ä¸­é—´ä»¶é“¾å°è£…    | ä½¿ç”¨åµŒå…¥æ„é€ é“¾å¼ handler         |
| æ¥å£é€‚é…å™¨     | é€šè¿‡æ¥å£åµŒå…¥ç»„åˆå¤šä¸ªèŒè´£             |
| æ§åˆ¶åè½¬ï¼ˆIoCï¼‰ | æä¾›é»˜è®¤è¡Œä¸ºï¼Œå†ç”±ä¸Šå±‚ç»“æ„ä½“é‡å†™æ–¹æ³•       |

---

## ğŸ¥µ ç»„åˆï¼ˆåµŒå…¥ï¼‰ç»“å’Œæ¥å£ä»£æ›¿ç»§æ‰¿çš„æœ€ä½³å®è·µ

æ¡ˆä¾‹ï¼šæ‰“å°æœº

```go
package main

import (
	"fmt"
)

// ---------------- Shared Component ----------------
type Logger struct{}

func (l Logger) Log(msg string) {
	fmt.Println("[LOG]:", msg)
}

// ---------------- Interface ----------------
type Printer interface {
	Print()
}

// ---------------- PDF Printer ----------------
type PDFPrinter struct {
	Logger
	File string
}

func (p PDFPrinter) Print() {
	p.Log("Printing PDF: " + p.File)
	fmt.Println("PDF content: <pdf data>")
}

// ---------------- HTML Printer ----------------
type HTMLPrinter struct {
	Logger
	HTML string
}

func (h HTMLPrinter) Print() {
	h.Log("Printing HTML: " + h.HTML)
	fmt.Println("HTML content: <html data>")
}

// ---------------- Polymorphic Function ----------------
func Process(p Printer) {
	p.Print()
}

// ---------------- Main ----------------
func main() {
	pdf := PDFPrinter{File: "invoice.pdf"}
	html := HTMLPrinter{HTML: "<h1>Hello</h1>"}

	Process(pdf)
	Process(html)
} 

```